% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ngr_str_df_extract.R
\name{ngr_str_df_extract}
\alias{ngr_str_df_extract}
\title{Extract segments of text from a data-frame column}
\usage{
ngr_str_df_extract(data, col, segment_pairs)
}
\arguments{
\item{data}{\link{data.frame} or \link[tibble:tbl_df-class]{tibble::tbl_df} A table containing the source text column.}

\item{col}{\link{character} A single string: the \strong{name of the text column} (e.g., "details").}

\item{segment_pairs}{\link{list} A \strong{named} list where each element is a length-2
\link{character} vector \code{c(start_regex, end_regex)}. List names become output
column names. Names must be non-empty and unique.}
}
\value{
\link{data.frame} The input \code{data} with one new column per named segment.
Values are \code{NA} where no match is found. An error is raised if \code{col} is
missing from \code{data}, if \code{segment_pairs} is not a properly named list, or if
any element is not a length-2 \link{character} vector.
}
\description{
Pull substrings \strong{between} regex start/end delimiters from a string column.
Each element of \code{segment_pairs} is a length-2 character vector:
\code{c(start_regex, end_regex)}. The \strong{list name} becomes the output column name.
}
\examples{
df <- tibble::tibble(details = c(
"Grant Amount: $400,000 Intake Year: 2025 Region: Fraser Basin Project Theme: Restoration",
"Grant Amount: $150,500 Intake Year: 2024 Region: Columbia Basin Project Theme: Food Systems"
))

segs <- list(
amount = c("Grant\\\\\\\\s*Amount", "Intake\\\\\\\\s*Year|Region|Project\\\\\\\\s*Theme|$"),
year = c("Intake\\\\\\\\s*Year", "Region|Project\\\\\\\\s*Theme|$"),
region = c("Region", "Project\\\\\\\\s*Theme|$"),
theme = c("Project\\\\\\\\s*Theme", "$")
)

out <- ngr_str_df_extract(df, "details", segs)
out
}
\seealso{
\code{\link[=ngr_str_extract_between]{ngr_str_extract_between()}} to extract a single pair from a character vector.

Other string dataframe: 
\code{\link{ngr_str_df_col_agg}()},
\code{\link{ngr_str_df_detect_filter}()}
}
\concept{string dataframe}
