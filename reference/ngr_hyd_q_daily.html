<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Combine daily Streamflow Data from HYDAT and ECCC Realtime Sources — ngr_hyd_q_daily • ngr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Combine daily Streamflow Data from HYDAT and ECCC Realtime Sources — ngr_hyd_q_daily"><meta name="description" content="Retrieve and amalgamate daily streamflow data for one or more HYDAT stations,
combining historical daily flows from HYDAT with available realtime daily flow
data where supported. The function warns when realtime data are unavailable and
checks for missing dates in the combined time series."><meta property="og:description" content="Retrieve and amalgamate daily streamflow data for one or more HYDAT stations,
combining historical daily flows from HYDAT with available realtime daily flow
data where supported. The function warns when realtime data are unavailable and
checks for missing dates in the combined time series."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ngr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/stac-sentinel2-ortho-timelapse.html">STAC ortho timelapse</a></li>
    <li><a class="dropdown-item" href="../articles/stac-spectral-indices.html">STAC spectral indices with ngr_spk_stac_calc</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NewGraphEnvironment/ngr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Combine daily Streamflow Data from HYDAT and ECCC Realtime Sources</h1>
      <small class="dont-index">Source: <a href="https://github.com/NewGraphEnvironment/ngr/blob/main/R/ngr_hyd_q_daily.R" class="external-link"><code>R/ngr_hyd_q_daily.R</code></a></small>
      <div class="d-none name"><code>ngr_hyd_q_daily.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Retrieve and amalgamate daily streamflow data for one or more HYDAT stations,
combining historical daily flows from HYDAT with available realtime daily flow
data where supported. The function warns when realtime data are unavailable and
checks for missing dates in the combined time series.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ngr_hyd_q_daily</span><span class="op">(</span></span>
<span>  <span class="va">id_station</span>,</span>
<span>  date_rt_start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fl">581</span>,</span>
<span>  date_rt_end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  date_hydat_start <span class="op">=</span> <span class="st">"1980-01-01"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-id-station">id_station<a class="anchor" aria-label="anchor" href="#arg-id-station"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a> A character vector of one or more HYDAT station IDs</p></dd>


<dt id="arg-date-rt-start">date_rt_start<a class="anchor" aria-label="anchor" href="#arg-date-rt-start"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/Dates.html" class="external-link">Date</a> Optional. A single start date (or string coercible to date) for realtime data retrieval.
Defaults to <code>Sys.Date() - 581</code> (18 months).</p></dd>


<dt id="arg-date-rt-end">date_rt_end<a class="anchor" aria-label="anchor" href="#arg-date-rt-end"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/Dates.html" class="external-link">Date</a> Optional. A single end date (or string coercible to date) for realtime data retrieval.
Defaults to <code><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date()</a></code>.</p></dd>


<dt id="arg-date-hydat-start">date_hydat_start<a class="anchor" aria-label="anchor" href="#arg-date-hydat-start"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a> Optional. A single date (or string coercible to date) giving the start
date for historical HYDAT daily flows. Default is "1980-01-01".</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Optional. Additional arguments passed to
<code><a href="ngr_chk_dt_complete.html">ngr_chk_dt_complete()</a></code> when checking for missing dates within each
<code>STATION_NUMBER</code> time series (ex print_missing = FALSE).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame containing daily streamflow data for the requested stations.
Warnings are emitted when realtime data are unavailable for some stations or
when missing dates are detected.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Historical daily flows are retrieved using
<code><a href="https://docs.ropensci.org/tidyhydat/reference/hy_daily_flows.html" class="external-link">tidyhydat::hy_daily_flows()</a></code>. Realtime daily flows are retrieved using
<code><a href="https://docs.ropensci.org/tidyhydat/reference/realtime_ws.html" class="external-link">tidyhydat::realtime_ws()</a></code> for stations that support realtime reporting, as
identified by <code><a href="https://docs.ropensci.org/tidyhydat/reference/realtime_stations.html" class="external-link">tidyhydat::realtime_stations()</a></code>. Realtime data are coerced to
daily resolution and typed to match the HYDAT data using
<code><a href="ngr_tidy_type.html">ngr_tidy_type()</a></code>.</p>
<p>Input dates are validated using <code><a href="ngr_chk_coerce_date.html">ngr_chk_coerce_date()</a></code>. Missing daily
timestamps are checked per station using <code><a href="ngr_chk_dt_complete.html">ngr_chk_dt_complete()</a></code>.</p>
<p>Duplicate station-date records are removed, keeping historical HYDAT values
where overlaps occur. The function reports stations with missing dates using
cli messages.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">ngr_hyd_q_daily</span><span class="op">(</span>id_station <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"08NH118"</span>, <span class="st">"08NH126"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in hy_src(hydat_path):</span> No Hydat.sqlite3 found at /home/runner/.local/share/tidyhydat. Run download_hydat() to download the database.</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Allan Irvine.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

